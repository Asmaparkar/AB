install.packages("rlang")
install.packages("reshape2")
install.packages("dplyr")
install.packages("lubridate")
install.packages("scales")
install.packages("tm")
library(rlang)
#Used for sentimental analysis
library(syuzhet)
library(lubridate)
library(ggplot2)
library(scales)# Used for scaling
library(reshape2)
library(dplyr) # Manipulation of data
library(tm)
x <-read.csv("C:/Users/user/Desktop/Journal/ABD/Data1.csv",header= TRUE)
print(x)
str(x)
tweets <- iconv(x$text,from="UTF-8",to="ASCII//TRANSLIT")
str(tweets)
head(tweets) 
corpus<-iconv(x$text)
corpus<-Corpus(VectorSource(corpus))
inspect(corpus[1:5])
corpus<-tm_map(corpus,tolower)
inspect(corpus[1:5])

corpus<-tm_map(corpus,removeNumbers)
inspect(corpus[1:5])
cleanset<-tm_map(corpus,removeWords,stopwords("english"))
inspect(cleanset[1:5])
corpus1<-tm_map(corpus,removePunctuation)
inspect(corpus1[1:5])
tdm<-TermDocumentMatrix(corpus1)
tdm<-as.matrix(tdm)
tdm[1:10,1:20]
print(tdm)
a<-rowSums(tdm)
a<-subset(a,a>=45)
barplot(a,col=rainbow(50))

#prac 9 continuation
score<-get_nrc_sentiment(tweets)
head(score)
barplot(colSums(score),1as=2,col=rainbow(10),ylab='Count',main='Sentiment Scores Tweets')
